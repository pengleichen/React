# 路由
## 后端路由
* path（路由分发）
  + 针对不同的路由对于不同的回调函数处理(req, res, next)
    * req: 获取请求参数
    * res: 返回请求数据
    * next: 调用后续的回调函数
## 前端路由
* 路由是根据不同的URL去请求不同的页面内容
* 前端路由就是把不同路由对应不同的内容或者页面的任务交给前端来做，之前是通过服务端根据URL不同返回不同的页面来实现
* 利用H5的history.pushState 和 history.replaceState，这两个history新增的API，为前端操控浏览器历史栈提供了可能性
* 这两个API都会操作浏览器的历史栈，而不会引起页面的刷新
* 不同的是，pushState会增加一条心的历史记录，而replaceState则会替换当前的历史记录
  > 应用：单页面应用（所有的活动局限于一个页面，页面有数据变化的时候不会刷新整个页面，局部刷新 --- ajax来进行数据的收发）
  
  > 优点和缺点：
  >  * 优点：用户体验好，不需要每次想服务器发送请求请求页面数据，响应快
  >  * 缺点：使用浏览器的前进，后退键的时候会重新发送请求，没有合理地利用缓存
## hash值得由来
历史：
  1. 基于Ajax的Web应用最为明显的特征在于使用了浏览器内部原生支持的XMLHttpRequest对象与后台服务器进行数据通信
  2. 由于这种通信方式不需要页面的刷新动作，因此无论与后台发生了多少次通信，浏览器的URL会一直保持在初始地址不变
  3. 这随之而来的一个问题便是不断变化的页面状态信息无法记录到浏览器的历史记录堆栈中，从而使得用户无法通过浏览器的前进/后退按钮在不同状态页面间进行切换
  
## 解决思路
  浏览器能够支持在用户访问过的页面进行前进/后退的操作，依赖于内部维持的history对象。处于安全性的考虑，浏览器并不允许JavaScript脚本对该对象进行增删改之类的写操作，
  而只是可以通过history.back/forward()等方法进行访问。既然在页面状态发生变化时，无法通过脚本之间去影响浏览器的历史信息，那么只有通过URL的班会来触发浏览器增加一条新的历史记录。这也就是说需要将
  Ajax应用的不同页面状态与URL进行一种一对一的映射，并且能够在回退或者前进到某一URL之时，应用本身能够在页面无刷新的情况下跳转到正确的页面状态。
  如何对Ajax应用的初始URL进行改变，而同时这种变化的切换又会引起页面的重新加载呢？答案只有一个，那就是借助在页面内资源片段定位目的的“片段标识符”（fragment identifier），
  即URL中的“#”符号后的字符串（hash string）。当浏览器向服务器请求资源时，片段标识符并不会连同base URL一同发往服务器端，而只是在得到服务器返回的结果之后帮助浏览器快速定位到被相应的锚点(anchor)所标识的资源片段，
  即使无法找到对应的锚点，浏览器也不会报错。正是基于浏览器的这一特性，构建片段标识符与页面状态之间的映射关系成为了解决此类问题的基础。    

# react-router 2.x库中的相关组件
* 包含的相关组件：
  + Router：路由器组件，用来包含各个路由组件，用来管理路由
  + Route：路由组件，注册路由
  + IndexRoute：默认路由组件
  + hashHistory：路由的切换由URL的hash变化决定，即URL的#部分发生变化
  + Link：路由链接组件，生产a标签
* Router：路由器组件
  * 属性：history={hashHistory} 用来监听浏览器地址栏的变化，并将URL解析成一个地址对象，供React Route匹配
  * 子组件：Route
* Route：路由组件
  * 属性1：path="/xxx"
  * 属性2：component={Xxx}
  * 根路由组件：path="/"的组件，一般为App
  * 子路由组件：子<Route>配置的组件
* IndexRoute：默认路由
  * 当父路由被请求时，默认就会请求此路由组件
* hashHistory
  * 用于Route组件的history属性
  * 作用：为地址URL生成?_k=hash，用于内部保存对应的state
* Link：路由链接
  * 属性1：to="/xxx"
  * 属性2：activeClassName="active"

## 下载相关插件
  yarn add react-router
# react-router 5.x版本
[React Router](https://reacttraining.com/react-router/)  
  
  